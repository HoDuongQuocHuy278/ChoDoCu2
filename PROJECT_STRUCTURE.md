# ğŸ“ Cáº¤U TRÃšC THÆ¯ Má»¤C Dá»° ÃN

## ğŸ¨ FRONTEND - FE_Second-hand-Goods-Trading-Platform

### ğŸ“‚ Cáº¥u trÃºc tá»•ng quan
```
FE_Second-hand-Goods-Trading-Platform/
â”œâ”€â”€ public/                    # TÃ i nguyÃªn tÄ©nh
â”‚   â””â”€â”€ vite.svg
â”œâ”€â”€ src/                      # Source code chÃ­nh
â”‚   â”œâ”€â”€ App.vue              # Component gá»‘c
â”‚   â”œâ”€â”€ main.js              # Entry point
â”‚   â”œâ”€â”€ style.css            # Global styles
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/              # TÃ i nguyÃªn (CSS, JS, images, fonts)
â”‚   â”‚   â”œâ”€â”€ css/             # Stylesheets
â”‚   â”‚   â”‚   â”œâ”€â”€ app.css
â”‚   â”‚   â”‚   â”œâ”€â”€ bootstrap.css
â”‚   â”‚   â”‚   â”œâ”€â”€ components/  # Component styles
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/       # Page-specific styles
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ js/              # JavaScript libraries
â”‚   â”‚   â”œâ”€â”€ images/          # HÃ¬nh áº£nh
â”‚   â”‚   â”œâ”€â”€ fonts/           # Font files
â”‚   â”‚   â””â”€â”€ plugins/         # Third-party plugins
â”‚   â”‚
â”‚   â”œâ”€â”€ components/          # Vue Components
â”‚   â”‚   â”œâ”€â”€ admin/           # Admin components
â”‚   â”‚   â”‚   â”œâ”€â”€ QuanLyDonHang/
â”‚   â”‚   â”‚   â”œâ”€â”€ QuanLyNguoiDung/
â”‚   â”‚   â”‚   â””â”€â”€ QuanLySanPham/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ NguoiDangBan/    # Seller components
â”‚   â”‚   â”‚   â”œâ”€â”€ DangKyBan/          # ÄÄƒng kÃ½ bÃ¡n hÃ ng
â”‚   â”‚   â”‚   â”œâ”€â”€ LichSuBanHang/      # Lá»‹ch sá»­ bÃ¡n hÃ ng
â”‚   â”‚   â”‚   â”œâ”€â”€ QuanLyDonHang/      # Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
â”‚   â”‚   â”‚   â”œâ”€â”€ SanPhamCuaToi/      # Sáº£n pháº©m cá»§a tÃ´i â­
â”‚   â”‚   â”‚   â”œâ”€â”€ Sell/               # ÄÄƒng bÃ¡n sáº£n pháº©m
â”‚   â”‚   â”‚   â””â”€â”€ TrangBanHang/       # Trang bÃ¡n hÃ ng
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ TrangChu/        # Trang chá»§ â­
â”‚   â”‚   â”œâ”€â”€ ChiTietSanPham/  # Chi tiáº¿t sáº£n pháº©m
â”‚   â”‚   â”œâ”€â”€ ListSanPham/     # Danh sÃ¡ch sáº£n pháº©m
â”‚   â”‚   â”œâ”€â”€ GioHang/         # Giá» hÃ ng
â”‚   â”‚   â”œâ”€â”€ Checkout/        # Thanh toÃ¡n
â”‚   â”‚   â”œâ”€â”€ DonMua/          # ÄÆ¡n mua
â”‚   â”‚   â”œâ”€â”€ DangNhap/        # ÄÄƒng nháº­p
â”‚   â”‚   â”œâ”€â”€ DangKy/          # ÄÄƒng kÃ½
â”‚   â”‚   â”œâ”€â”€ Profile/         # Há»“ sÆ¡ ngÆ°á»i dÃ¹ng
â”‚   â”‚   â”œâ”€â”€ chatrealtime/    # Chat realtime
â”‚   â”‚   â”œâ”€â”€ listchat/        # Danh sÃ¡ch chat
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ layout/              # Layout components
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ BotRocker.vue    # Footer â­
â”‚   â”‚   â”‚   â”œâ”€â”€ TopRocker.vue    # Header
â”‚   â”‚   â”‚   â”œâ”€â”€ MenuRocker.vue   # Menu
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ wrapper/
â”‚   â”‚       â””â”€â”€ index.vue        # Layout wrapper
â”‚   â”‚
â”‚   â”œâ”€â”€ router/              # Vue Router
â”‚   â”‚   â””â”€â”€ index.js         # Route definitions
â”‚   â”‚
â”‚   â””â”€â”€ services/            # API services (náº¿u cÃ³)
â”‚
â”œâ”€â”€ package.json             # Dependencies
â”œâ”€â”€ vite.config.js          # Vite configuration
â””â”€â”€ index.html              # HTML entry point
```

### ğŸ”‘ CÃ¡c Component quan trá»ng

#### 1. **TrangChu/index.vue** - Trang chá»§
- Hero section
- Danh má»¥c sáº£n pháº©m
- Sáº£n pháº©m ná»•i báº­t
- Chat widget

#### 2. **NguoiDangBan/SanPhamCuaToi/index.vue** - Quáº£n lÃ½ sáº£n pháº©m
- Danh sÃ¡ch sáº£n pháº©m cá»§a seller
- Thá»‘ng kÃª (doanh thu, Ä‘Æ¡n hÃ ng, Ä‘Ã¡nh giÃ¡)
- Chá»©c nÄƒng: Sá»­a, XÃ³a, Äá»•i tráº¡ng thÃ¡i
- Modal chi tiáº¿t sáº£n pháº©m
- PhÃ¢n trang

#### 3. **NguoiDangBan/Sell/index.vue** - ÄÄƒng bÃ¡n sáº£n pháº©m
- Form Ä‘Äƒng sáº£n pháº©m má»›i
- Upload hÃ¬nh áº£nh
- Chá»‰nh sá»­a sáº£n pháº©m

#### 4. **layout/components/BotRocker.vue** - Footer
- Multi-column footer
- Newsletter
- Social links
- Contact info

---

## âš™ï¸ BACKEND - BE_Second-hand-Goods-Trading-Platform

### ğŸ“‚ Cáº¥u trÃºc tá»•ng quan
```
BE_Second-hand-Goods-Trading-Platform/
â”œâ”€â”€ app/                     # Application code
â”‚   â”œâ”€â”€ Http/
â”‚   â”‚   â”œâ”€â”€ Controllers/     # Controllers
â”‚   â”‚   â”‚   â”œâ”€â”€ SanPhamController.php      # â­ Quáº£n lÃ½ sáº£n pháº©m
â”‚   â”‚   â”‚   â”œâ”€â”€ KhachHangController.php    # Quáº£n lÃ½ khÃ¡ch hÃ ng
â”‚   â”‚   â”‚   â”œâ”€â”€ DonHangController.php      # Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
â”‚   â”‚   â”‚   â”œâ”€â”€ DanhMucController.php      # Quáº£n lÃ½ danh má»¥c
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatController.php         # Chat
â”‚   â”‚   â”‚   â”œâ”€â”€ ThanhToanController.php    # Thanh toÃ¡n
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Middleware/      # Middleware
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckRole.php
â”‚   â”‚   â”‚   â””â”€â”€ JsonResponseMiddleware.php
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Requests/        # Form Requests
â”‚   â”‚       â”œâ”€â”€ StoreSanPhamRequest.php
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ Models/              # Eloquent Models
â”‚   â”‚   â”œâ”€â”€ SanPham.php      # â­ Model sáº£n pháº©m
â”‚   â”‚   â”œâ”€â”€ KhachHang.php    # Model khÃ¡ch hÃ ng
â”‚   â”‚   â”œâ”€â”€ DonHang.php      # Model Ä‘Æ¡n hÃ ng
â”‚   â”‚   â”œâ”€â”€ DanhMuc.php      # Model danh má»¥c
â”‚   â”‚   â”œâ”€â”€ DanhGia.php      # Model Ä‘Ã¡nh giÃ¡
â”‚   â”‚   â”œâ”€â”€ BinhLuan.php     # Model bÃ¬nh luáº­n
â”‚   â”‚   â”œâ”€â”€ Chat.php          # Model chat
â”‚   â”‚   â”œâ”€â”€ ChatMessage.php  # Model tin nháº¯n
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ Mail/                # Mail classes
â”‚   â”‚   â”œâ”€â”€ GuiMaXacNhan.php
â”‚   â”‚   â””â”€â”€ MasterMail.php
â”‚   â”‚
â”‚   â”œâ”€â”€ Casts/               # Custom casts
â”‚   â”‚   â””â”€â”€ JsonWithoutEscaping.php
â”‚   â”‚
â”‚   â””â”€â”€ Providers/           # Service providers
â”‚       â””â”€â”€ AppServiceProvider.php
â”‚
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/          # Database migrations
â”‚   â”‚   â”œâ”€â”€ 2025_04_24_074713_create_khach_hangs_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_10_26_070642_create_danh_mucs_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_11_13_153200_create_san_phams_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_11_13_153305_create_don_hangs_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_11_17_000000_create_chats_table.php
â”‚   â”‚   â”œâ”€â”€ 2025_11_21_165139_convert_hinh_anh_to_json_array_format.php
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ seeders/             # Database seeders
â”‚       â”œâ”€â”€ DatabaseSeeder.php
â”‚       â”œâ”€â”€ KhachHangSeeder.php
â”‚       â”œâ”€â”€ SanPhamSeeder.php
â”‚       â”œâ”€â”€ DanhMucSeeder.php
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ api.php              # â­ API routes
â”‚   â”œâ”€â”€ web.php              # Web routes (images, etc.)
â”‚   â””â”€â”€ console.php          # Console routes
â”‚
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ public/
â”‚   â”‚       â””â”€â”€ products/    # â­ HÃ¬nh áº£nh sáº£n pháº©m
â”‚   â””â”€â”€ logs/
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ storage              # Symlink to storage/app/public
â”‚   â””â”€â”€ index.php            # Entry point
â”‚
â”œâ”€â”€ config/                  # Configuration files
â”‚   â”œâ”€â”€ app.php
â”‚   â”œâ”€â”€ database.php
â”‚   â”œâ”€â”€ filesystems.php
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ composer.json            # PHP dependencies
â””â”€â”€ artisan                  # Laravel CLI
```

### ğŸ”‘ CÃ¡c File quan trá»ng

#### 1. **app/Http/Controllers/SanPhamController.php**
- `index()` - Láº¥y danh sÃ¡ch sáº£n pháº©m
- `show()` - Chi tiáº¿t sáº£n pháº©m
- `storeClient()` - Táº¡o sáº£n pháº©m (client)
- `updateSellerProduct()` - Cáº­p nháº­t sáº£n pháº©m (seller)
- `deleteSellerProduct()` - XÃ³a sáº£n pháº©m
- `getSellerProductStats()` - Thá»‘ng kÃª sáº£n pháº©m
- `getProductOrders()` - ÄÆ¡n hÃ ng cá»§a sáº£n pháº©m
- `getProductReviews()` - ÄÃ¡nh giÃ¡ sáº£n pháº©m

#### 2. **app/Models/SanPham.php**
- `normalizeHinhAnh()` - Chuáº©n hÃ³a hÃ¬nh áº£nh
- `getImagesArray()` - Láº¥y máº£ng hÃ¬nh áº£nh
- `getFirstImage()` - Láº¥y hÃ¬nh Ä‘áº§u tiÃªn
- `setHinhAnhAttribute()` - Accessor cho hinh_anh

#### 3. **routes/api.php**
- `/api/client/san-pham` - CRUD sáº£n pháº©m
- `/api/client/seller/san-pham/{id}` - Quáº£n lÃ½ sáº£n pháº©m seller
- `/api/client/seller/product-stats` - Thá»‘ng kÃª
- `/api/client/seller/san-pham/{id}/orders` - ÄÆ¡n hÃ ng
- `/api/client/seller/san-pham/{id}/reviews` - ÄÃ¡nh giÃ¡

#### 4. **routes/web.php**
- `/storage/{path}` - Route phá»¥c vá»¥ hÃ¬nh áº£nh tá»« storage

#### 5. **database/migrations/**
- `create_san_phams_table.php` - Báº£ng sáº£n pháº©m
- `convert_hinh_anh_to_json_array_format.php` - Chuyá»ƒn Ä‘á»•i format hÃ¬nh áº£nh
- `normalize_all_hinh_anh_in_database.php` - Chuáº©n hÃ³a táº¥t cáº£ hÃ¬nh áº£nh

---

## ğŸ”— Káº¿t ná»‘i Frontend - Backend

### API Endpoints chÃ­nh

#### Sáº£n pháº©m
```
GET    /api/client/san-pham              # Danh sÃ¡ch sáº£n pháº©m
GET    /api/client/san-pham/{id}         # Chi tiáº¿t sáº£n pháº©m
POST   /api/client/san-pham              # Táº¡o sáº£n pháº©m
PUT    /api/client/seller/san-pham/{id}  # Cáº­p nháº­t sáº£n pháº©m
DELETE /api/client/seller/san-pham/{id} # XÃ³a sáº£n pháº©m
```

#### Thá»‘ng kÃª Seller
```
GET    /api/client/seller/product-stats              # Thá»‘ng kÃª tá»•ng quan
GET    /api/client/seller/san-pham/{id}/orders      # ÄÆ¡n hÃ ng sáº£n pháº©m
GET    /api/client/seller/san-pham/{id}/reviews      # ÄÃ¡nh giÃ¡ sáº£n pháº©m
```

#### HÃ¬nh áº£nh
```
GET    /storage/products/{filename}      # Láº¥y hÃ¬nh áº£nh sáº£n pháº©m
```

### Authentication
- Sá»­ dá»¥ng Laravel Sanctum
- Token lÆ°u trong `localStorage` vá»›i key `key_client`
- User info lÆ°u trong `localStorage` vá»›i key `user_info`

---

## ğŸ“Š Database Schema

### Báº£ng chÃ­nh

#### `san_phams`
- `id` - Primary key
- `ten_san_pham` - TÃªn sáº£n pháº©m
- `mo_ta` - MÃ´ táº£
- `gia` - GiÃ¡ (decimal 15,2)
- `hinh_anh` - JSON array string chá»©a URLs hÃ¬nh áº£nh
- `tinh_trang` - TÃ¬nh tráº¡ng (má»›i, cÅ©, ráº¥t cÅ©)
- `trang_thai` - Tráº¡ng thÃ¡i (1: Ä‘ang bÃ¡n, 3: áº©n)
- `danh_muc_id` - Foreign key Ä‘áº¿n danh_mucs
- `khach_hang_id` - Foreign key Ä‘áº¿n khach_hangs (seller)
- `luot_xem` - LÆ°á»£t xem
- `created_at`, `updated_at`

#### `khach_hangs`
- `id` - Primary key
- `ho_ten` - Há» tÃªn
- `email` - Email
- `so_dien_thoai` - Sá»‘ Ä‘iá»‡n thoáº¡i
- `mat_khau` - Máº­t kháº©u (hashed)
- `is_seller` - CÃ³ pháº£i seller khÃ´ng
- `role` - Vai trÃ² (admin, user)
- `trang_thai` - Tráº¡ng thÃ¡i tÃ i khoáº£n
- `created_at`, `updated_at`

#### `don_hangs`
- `id` - Primary key
- `khach_hang_id` - NgÆ°á»i mua
- `san_pham_id` - Sáº£n pháº©m
- `so_luong` - Sá»‘ lÆ°á»£ng
- `tong_tien` - Tá»•ng tiá»n
- `trang_thai` - Tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng
- `created_at`, `updated_at`

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Frontend
- **Vue.js 3** - Framework
- **Vue Router** - Routing
- **Axios** - HTTP client
- **Vite** - Build tool
- **Bootstrap** - CSS framework

### Backend
- **Laravel** - PHP framework
- **Laravel Sanctum** - Authentication
- **MySQL** - Database
- **File Storage** - LÆ°u trá»¯ hÃ¬nh áº£nh

---

## ğŸ“ Ghi chÃº

- â­ ÄÃ¡nh dáº¥u cÃ¡c file/component quan trá»ng Ä‘Ã£ Ä‘Æ°á»£c chá»‰nh sá»­a gáº§n Ä‘Ã¢y
- HÃ¬nh áº£nh sáº£n pháº©m Ä‘Æ°á»£c lÆ°u trong `storage/app/public/products/`
- Symlink `public/storage` â†’ `storage/app/public`
- API base URL: `http://127.0.0.1:8000/api/client`
- Frontend dev server: ThÆ°á»ng cháº¡y trÃªn port 5173 (Vite)

